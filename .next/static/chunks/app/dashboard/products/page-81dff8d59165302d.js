(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{9902:function(e,t,s){Promise.resolve().then(s.bind(s,8298))},8298:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var r=s(7437),a=s(2265),i=s(9501),c=s(3842),l=s(4422),d=s(429),n=s(5476),o=s(5540),u=s(9556),m=s(4430),p=s(9397),x=s(9205);let h=(0,x.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var y=s(5868),g=s(8930);let f=(0,x.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var b=s(4794),j=s(5252);let v=(0,x.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),k=l.Ry({productCode:l.Z_().required("Product code is required"),name:l.Z_().required("Product name is required"),type:l.Z_().required("Product type is required"),stockQuantity:l.Rx().min(0,"Stock quantity must be non-negative").required("Stock quantity is required"),price:l.Rx().min(0,"Price must be non-negative").required("Price is required"),description:l.Z_()}),N=[{value:"saree",label:"Saree"},{value:"churidhar",label:"Churidhar"},{value:"jewellery",label:"Jewellery"}];function w(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[x,w]=(0,a.useState)(!1),[P,S]=(0,a.useState)(null),[Z,C]=(0,a.useState)(!1),{addToast:q}=(0,u.p)(),{register:M,handleSubmit:Q,formState:{errors:_},reset:E,setValue:A}=(0,i.cI)({resolver:(0,c.X)(k)});(0,a.useEffect)(()=>{O()},[]);let O=async()=>{try{let e=await o.M.getProducts();t(e)}catch(e){q({title:"Error",description:"Failed to load products",type:"error"})}finally{l(!1)}},R=e=>{A("productCode",e.productCode),A("name",e.name),A("type",e.type),A("stockQuantity",e.stockQuantity),A("price",e.price),A("description",e.description||""),S(e),w(!0)},T=async e=>{C(!0);try{let t=["https://i.pinimg.com/originals/39/5f/28/395f282620d0ff419d635e19b3e3443f.jpg","https://static.vecteezy.com/system/resources/previews/059/121/913/non_2x/impressive-rustic-dark-green-fabric-texture-close-up-detail-cutout-png.png"];"saree"===e.type?t=["https://i.pinimg.com/originals/cc/8b/20/cc8b20d84b8821a66058126b412dcf12.jpg","https://i.pinimg.com/originals/29/ff/31/29ff31db439c1d113055e2bb710a8065.jpg"]:"churidhar"===e.type?t=["https://cdn.shopify.com/s/files/1/0075/9670/3834/products/cotton-maternity-kurti-with-churidar-dupatta-blue-5.jpg?v=1661868729","https://i.pinimg.com/originals/f5/43/56/f54356b1cad6a39e7006ede5aae878b1.jpg"]:"jewellery"===e.type&&(t=["https://i.pinimg.com/736x/a4/35/51/a43551bfa83302931d1a88e3bd9aa433.jpg","https://i.pinimg.com/originals/39/39/42/3939427486596c7dce842eb0f2e12afe.jpg"]);let s={...e,images:JSON.stringify(t)};P?(await o.M.updateProduct(P.id,s),q({title:"Success",description:"Product updated successfully",type:"success"})):(await o.M.createProduct(s),q({title:"Success",description:"Product added successfully",type:"success"})),await O(),w(!1),E(),S(null)}catch(e){q({title:"Error",description:"Failed to save product",type:"error"})}finally{C(!1)}},H=async e=>{if(confirm(`Are you sure you want to delete ${e.name}?`))try{await o.M.deleteProduct(e.id),q({title:"Success",description:"Product deleted successfully",type:"success"}),await O()}catch(e){q({title:"Error",description:"Failed to delete product",type:"error"})}},L=e=>0===e?{status:"Out of Stock",color:"bg-red-100 text-red-800",message:"Sorry, this product is out of stock due to high demand."}:e<=5?{status:"Low Stock",color:"bg-yellow-100 text-yellow-800",message:"Limited stock available"}:{status:"In Stock",color:"bg-green-100 text-green-800",message:"Available"};return s?(0,r.jsx)(n.i,{children:(0,r.jsx)(d.c,{currentPage:"/dashboard/products",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):(0,r.jsx)(n.i,{children:(0,r.jsx)(d.c,{currentPage:"/dashboard/products",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),(0,r.jsxs)("button",{onClick:()=>{E(),S(null),w(!0)},className:"flex items-center px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{let t=L(e.stockQuantity),s=JSON.parse(e.images||"[]");return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"relative aspect-video bg-gray-200 rounded-t-lg overflow-hidden",children:[s[0]?(0,r.jsx)("img",{src:s[0],alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://images.unsplash.com/photo-1610030469983-98e550d6193c?w=400&h=300&fit=crop"}}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)(h,{className:"h-12 w-12 text-gray-400"})}),(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:t.status})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("button",{onClick:()=>R(e),className:"p-1 text-gray-400 hover:text-blue-600",children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>H(e),className:"p-1 text-gray-400 hover:text-red-600",children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(f,{className:"h-4 w-4 mr-2"}),e.productCode]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),N.find(t=>t.value===e.type)?.label]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"₹",e.price.toLocaleString()]})]}),e.description&&(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Stock: "}),(0,r.jsxs)("span",{className:`font-medium ${0===e.stockQuantity?"text-red-600":"text-gray-900"}`,children:[e.stockQuantity," units"]})]}),0===e.stockQuantity&&(0,r.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,r.jsx)(v,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("span",{className:"text-xs",children:"High Demand"})]})]})]})]},e.id)})}),(0,r.jsx)(m.u,{isOpen:x,onClose:()=>w(!1),title:P?"Edit Product":"Add New Product",className:"max-w-lg",children:(0,r.jsxs)("form",{onSubmit:Q(T),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Code *"}),(0,r.jsx)("input",{...M("productCode"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"e.g., SAR001"}),_.productCode&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.productCode.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,r.jsx)("input",{...M("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"e.g., Silk Saree - Red"}),_.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type *"}),(0,r.jsxs)("select",{...M("type"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",children:[(0,r.jsx)("option",{value:"",children:"Select Type"}),N.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]}),_.type&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.type.message})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),(0,r.jsx)("input",{...M("stockQuantity"),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"0"}),_.stockQuantity&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.stockQuantity.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (₹) *"}),(0,r.jsx)("input",{...M("price"),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"0.00"}),_.price&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.price.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{...M("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Product description..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:Z,className:"px-4 py-2 text-sm font-medium text-white bg-pink-600 rounded-md hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Saving...":P?"Update Product":"Add Product"})]})]})})]})})})}},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5868:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[2,151,566,971,117,744],function(){return e(e.s=9902)}),_N_E=e.O()}]);